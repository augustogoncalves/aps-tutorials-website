import VsCodeFolderExplorerImg from "../../_images/vscode-node-folderStructure.webp";

### Installer des paquets

Par défaut, un projet Node.js est vide, nous devons donc installer quelques paquets avec npm install. Commençons par un serveur express de base, un analyseur de corps pour la gestion de JSON, un multer pour le téléchargement de fichiers et, bien sûr, APS.



:::caution

Exécutez une installation npm à la fois.


:::



```bash
npm install express --save
npm install express-formidable --save
npm install multer --save
npm install cookie-session --save
npm install forge-apis --save
npm install autodesk.forge.designautomation --save
npm install body-parser --save
npm install form-data --save
npm install socket.io --save
```

> Le paramètre --save indique que le module doit être inclus dans le fichier package.json en tant que dépendance.

Enfin, ouvrez le package.json et, à l’intérieur de « scripts », ajoutez « start » : « node start.js », line. Maintenant, votre dossier devrait avoir un dossier 'node_modules' et votre 'package.json' devrait ressembler à ceci

```json title=package.json
{
  "name": "designAutomationSample",
  "version": "1.0.0",
  "description": "",
  "main": "start.js",
  "scripts": {
    "start": "node start.js",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "",
  "license": "MIT",
  "dependencies": {
    "autodesk.forge.designautomation": "^3.0.3",
    "body-parser": "^1.19.0",
    "cookie-session": "^2.0.0",
    "express": "^4.17.1",
    "forge-apis": "^0.9.2",
    "form-data": "^4.0.0",
    "multer": "^1.4.5-lts.1",
    "socket.io": "^4.0.1"
  }
}
```

> Le numéro de version (par exemple forge-apis 0.9.2) peut varier, il s’agissait de la dernière version lors de la création de ce tutoriel.

### Fichiers et dossiers

Pour créer un nouveau dossier ou fichier, cliquez avec le bouton droit de la souris sur la zone « Explorateur » à gauche et sélectionnez Nouveau dossier ou Nouveau fichier.

Créez un dossier '/routes/' pour tous les fichiers côté serveur et un dossier '/wwwroot/' pour tous les fichiers côté client.

À ce stade, votre projet doit avoir la structure suivante

<img src={VsCodeFolderExplorerImg} style={{ width: 300 }} />

Ce fichier indique à Visual Studio Code comment nous devons exécuter notre projet. Allez dans le menu Exécuter >> Ajouter une configuration... et, dans la fenêtre Sélectionner un environnement qui s’affiche en haut, choisissez Node.js. Dans le fichier /.vscode/launch.json qui est créé, entrez ce qui suit

```json title=launch.json
{
  // Use IntelliSense to learn about possible attributes.
  // Hover to view descriptions of existing attributes.
  // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
  "version": "0.2.0",
  "configurations": [
    {
      "type": "node",
      "request": "launch",
      "name": "Launch Program",
      "program": "${workspaceFolder}/start.js",
      "env": {
        "APS_CLIENT_ID": "your id here",
        "APS_CLIENT_SECRET": "your secret here"
      }
    }
  ]
}
```



:::note


It's important to define ID & Secret as environment variables so our project can later be deployed online. More on this later, in Deployment.


:::

