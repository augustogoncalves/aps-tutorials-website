import VsCodeFolderExplorerImg from "../../_images/vscode-node-folderStructure.webp";

### 安装软件包

默认情况下，Node.js项目是空的，因此我们需要使用 npm install 安装一些包。让我们从一个基本的快速服务器开始，用于 JSON 处理的正文解析器，用于文件上传的 multer，当然还有 APS。



:::caution

一次运行一个 npm install。


:::



```bash
npm install express --save
npm install express-formidable --save
npm install multer --save
npm install cookie-session --save
npm install forge-apis --save
npm install autodesk.forge.designautomation --save
npm install body-parser --save
npm install form-data --save
npm install socket.io --save
```

> --save 参数指示模块应作为依赖项包含在 package.json 文件中。

最后打开package.json，在“scripts”中，添加“start”： “node start.js”行。现在你的文件夹应该有一个“node_modules”文件夹，你的“package.json”应该如下所示

```json title=package.json
{
  "name": "designAutomationSample",
  "version": "1.0.0",
  "description": "",
  "main": "start.js",
  "scripts": {
    "start": "node start.js",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "",
  "license": "MIT",
  "dependencies": {
    "autodesk.forge.designautomation": "^3.0.3",
    "body-parser": "^1.19.0",
    "cookie-session": "^2.0.0",
    "express": "^4.17.1",
    "forge-apis": "^0.9.2",
    "form-data": "^4.0.0",
    "multer": "^1.4.5-lts.1",
    "socket.io": "^4.0.1"
  }
}
```

> 版本号（例如 forge-apis 0.9.2）可能会有所不同，它是创建本教程时的最新版本。

### 文件和文件夹

要创建新的文件夹或文件，请右键单击左侧的“资源管理器”区域，然后选择“新建文件夹”或“新建文件”。

为所有服务器端文件创建一个“/routes/”文件夹，为所有客户端文件创建一个“/wwwroot/”文件夹。

此时，项目应具有以下结构

<img src={VsCodeFolderExplorerImg} style={{ width: 300 }} />

此文件向 Visual Studio Code 指示我们应该如何运行项目。转到菜单 运行 >> 添加配置...然后，在顶部显示的“选择环境”窗口中，选择“Node.js”。在创建的 /.vscode/launch.json 文件中，输入以下内容

```json title=launch.json
{
  // Use IntelliSense to learn about possible attributes.
  // Hover to view descriptions of existing attributes.
  // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
  "version": "0.2.0",
  "configurations": [
    {
      "type": "node",
      "request": "launch",
      "name": "Launch Program",
      "program": "${workspaceFolder}/start.js",
      "env": {
        "APS_CLIENT_ID": "your id here",
        "APS_CLIENT_SECRET": "your secret here"
      }
    }
  ]
}
```



:::note


It's important to define ID & Secret as environment variables so our project can later be deployed online. More on this later, in Deployment.


:::

